<ion-header id="CabezaHeader"  >
  <ion-grid>
    <ion-row >
      <ion-col size="2">
        <ion-button routerLink="/home" 
              style="--background: #FFB800; --color: #ffffff;">
          <
        </ion-button>
      </ion-col>  
      <ion-col size="10">
        <h2 style="text-align: left;color: white;" >Asistencia Asignaturas</h2>
      </ion-col>  
    </ion-row>
  </ion-grid>
</ion-header>


<ion-content>
  <!-- CICLO DE ASIGNATURAS -->
  <div *ngFor="let curso of TodaAsignatura" class="asignatura-container">
    <!-- Título de la Asignatura -->
    <ion-card class="asignatura-card">
      <ion-card-header>
        <ion-card-title style="text-align: center;">{{ curso.id }}</ion-card-title>
      </ion-card-header>
    </ion-card>

    <!-- Acordeón para las secciones -->
    <ion-accordion-group class="seccionSeleccionCaja" >
      <ion-accordion *ngFor="let seccion of SeccionesPorAsignatura[curso.id]"  >
        <ion-item slot="header" color="light" >
          <ion-label class="tituloSeccion">Sección: {{ seccion.id }}</ion-label>
        </ion-item>

        <!-- Contenido desplegable (alumnos) -->
        <div slot="content" *ngFor="let alumno of AlumnosPorSeccion[curso.id][seccion.id]">
          <ion-button expand="full" color="primary" (click)="openModal(curso.id, seccion.id, alumno.id)">
            {{ alumno.id }}
          </ion-button>
        </div>
      </ion-accordion>
    </ion-accordion-group>
  </div>

  <!-- Modal de detalles de asistencia -->
  <ion-modal [isOpen]="isModalOpen" (didDismiss)="closeModal()">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>Asistencia de {{ selectedAlumno }}</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="closeModal()">Cerrar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <ion-list>
          <ion-item *ngFor="let estado of asistenciaDetalle">
            <ion-label>
              <h1>Fecha: {{ estado.Fecha.toDate().toLocaleDateString() }}</h1>
              <div *ngIf =" estado.Estado  == 'Presente'" >
                <h1 style="color: green;" >{{ estado.Estado }}</h1>
              </div>
              <div *ngIf =" estado.Estado  == 'Ausente'" >
                <h1 style="color: red;" >{{ estado.Estado }}</h1>
              </div>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>













